<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EB Bill Calculator</title>
   
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <style>
        /* section{
            background-image: url("https://etimg.etb2bimg.com/photo/71286548.cms");
            background-repeat: no-repeat;
            background-size: cover;
        } */

        tr,td{
            padding: 10px;
        }
    </style>
</head>
<script>
    console.log(unit)
            
    function calc()
    {
      
           var a= select.item[select.item.selectedIndex].text;
           var unit=document.getElementById("t2").value;
           var result;
           if(unit=="")
            {
                alert("Enter the units!");
            }

            else if(a=="Domestic")
            {
                             if(unit<=100){
                                   result=unit*0+0;
                                //    document.getElementById("ans").innerHTML =("Your Amount Rs: "+result);
                             }else if(unit<=200){
                                 result =(100*0)+((unit-100)*1.50)+20.0;
                                //  document.getElementById("ans").innerHTML =("Your Amount Rs: "+result);
                             }else if(unit<=500){
                                 result=(100*0)+(100*2.00)+((unit-200)*3.00)+30;
                                //  document.getElementById("ans").innerHTML =("Your Amount Rs: "+result);
                             }else{
                                 result=(100*0)+(100*3.50)+(300*4.60)+((unit-500)*6.60)+50;
                                //  document.getElementById("ans").innerHTML =("Your Amount Rs: "+result);
                             }

                             document.getElementById("ans").innerHTML =("Your Amount Rs: "+result);
            }

        if(a=="Commercial")
        {        
            var total=0;
            var sub=document.getElementById('output').selectedOptions[0].value;
         
          if(sub==="III-A(2)")
          {
            if(unit<=750)
          {
              var total=0;
          }  
          else if(unit>750&&unit<=1000)
          {
              var total=unit*2.3;
          }  
          else if(unit>1000 && unit<=1500)
          {
              var total=1000*2.3+(unit-1000)*2.3;
          }  
          else 
          {
              var total=1000*2.3+500*3.45+(unit-1500);
          } 
          
        }
        if(sub=="I-C")
        {
            total=unit*4.60;
        }
        if(sub=="II-A")
        {
            total=unit*6.35;
        }
        if(sub=="II-B(1)")
        {
            total=unit*5.75;
        }
        if(sub=="II-B(2)")
        {
            total=unit*7.50;
        }
        if(sub=="II-C")
        {
            if(unit>0 && unit<=120)
            {
                total=unit*2.85;
            }
            else{
                total=120*2.85+(unit-120)*5.75;
            }
        }
        if(sub=="III-A(1)")
        {
            if(unit>0 && unit<=500)
            {
                total=unit*4.0;
            }
            else{
                total=500*4.0+(unit-120)*4.60;
            }
        }
        if(sub=="III-B")
        {
            total=unit*6.35;
        }
        if(sub=="IV")
        {
             total=unit*3.22;
        }
        if(sub=="V")
        {
            if(unit>0 && unit<=100)
            {
                total=unit*5.0;
            }
            else{
                total=100*5.0+(unit-100)*8.05;
            }
        }
        if(sub=="VI")
        {
            total=unit*12;
        }
        document.getElementById("ans").innerHTML =("Your Amount Rs: "+total);;
    }
}
////////////////
    function get()
    {
        var getValue=select.item[select.item.selectedIndex].text;//document.getElementById('item').selectedOptions[0].value;
        if(getValue==="Commercial")
        {
        var a=["I-C","II-A","II-B(1)","II-B(2)","II-C","III-A(1)","III-A(2)","III-B","IV","V","VI"];
            var string="";
             
             for(i=0;i<a.length;i++)
             {
                 string=string+"<option value="+a[i]+">"+a[i]+"</option>";
             }
            var duration="";
        }
        else
        {
           var string=""; 
           var d="Bi-monthly";
           var duration="<option value="+d+">"+d+"</option>"
           
        }
        document.getElementById("duration").innerHTML=duration
        document.getElementById("output").innerHTML=string;
    }
    
</script>
<body>
 <nav class="navbar navbar-expand-sm navbar-light bg-info">
     <a class="navbar-brand font-weight-bolder" href="#">TNEB</a>
     <button class="navbar-toggler d-lg-none" type="button" data-toggle="collapse" data-target="#collapsibleNavId" aria-controls="collapsibleNavId"
         aria-expanded="false" aria-label="Toggle navigation">
         <span class="navbar-toggler-icon"></span>
     </button>
     <div class="collapse navbar-collapse" id="collapsibleNavId">
         <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
             <li class="nav-item active">
                 <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
             </li>
             <li class="nav-item">
                 <a class="nav-link" href="https://drive.google.com/file/d/1yQqXE1ir6MCXJd36-QpIEBib87am4-a1/view?usp=sharing" target="_blank">Guide lines</a>
             </li>
             <li class="nav-item ">
                <a class="nav-link" href="#">Bill Calculator</a>
             </li>
         </ul>
     </div>
 </nav>  
           
    <section>
        
        <div class="container-fluid p-2 ">
            <div class="row">
                <div class="col-12">
                    <h4 style="text-align: center; ">Bill Calculator</h4>
                </div>
                
            </div>
        </div>   
        
            <br>
            <div class="container bg-light p-5">
                
            
            <form  style="margin-left: 20%;" name="select" >
               <table width="70%" class="p-4">
                   <tr>
                        <td style="color: rgb(1, 1, 100); font-weight: bold;">Tariff Check</td> 
                        <td> <select name="item" onchange="get()"  >
                            <option value="Domestic">Domestic</option>
                                <option value="Commercial">Commercial</option>
                                
                            </select></td>
                    </tr>
                     
                  <tr>
                      <td style="color: rgb(1, 1, 100); font-weight: bold;">SUB Category</td>
                      <td><select id="output" ></select></td>
                  </tr>
                    <tr>
                        <td style="color: rgb(1, 1, 100); font-weight: bold;">Billing cycle</td> 
                        <td> <select id="duration" >
                             <option value="Commercial">Select</option>
                             <option value="Domestic">Bi Monthly</option>
                        </select></td>
                    </tr>
                    <tr>
                        <td style="color: rgb(1, 1, 100); font-weight: bold;">Constrated Load(Not Required for Domestic Tariff)</td> 
                        <td><input type="text"> </td>
                    </tr>
                    <tr>
                        <td style="color: rgb(1, 1, 100); font-weight: bold;">Consumer Units:</td> 
                        <td><input type="text" id="t2" placeholder="Enter units"> </td>
                    </tr>
                    <tr>
                        <td style="color: rgb(1, 1, 100); font-weight: bold;">KVAH(Not required for "Domestic Tariff)</td> 
                        <td><input type="text"> </td>
                    </tr>

               </table>    
            </form>
            </div>
             
                 
            <br><br>
            <div class="row">
                <div class="col-12 text-center">
                    <button class="btn btn-success" type="button" onclick="calc()">Calculate</button>
             </div>
            </div>
             
             

             <br><br><br>
             <div class="out">
                <p id="ans" style="text-align: center;"> WELCOME TNEB CALCULATION</p>
             </div>
           

             <br><br><br>
        </div>
        
    </section>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
</body>
</html>